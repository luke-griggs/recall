{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.notes": {
      "name": "notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "explanation": {
          "name": "explanation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "varchar(255)[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "difficulty_estimate": {
          "name": "difficulty_estimate",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_status": {
          "name": "valid_status",
          "value": "(status)::text = ANY ((ARRAY['active'::character varying, 'suspended'::character varying, 'archived'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.questions": {
      "name": "questions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "note_id": {
          "name": "note_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "question_text": {
          "name": "question_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "expected_answer": {
          "name": "expected_answer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "question_type": {
          "name": "question_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'recall'"
        },
        "generated_by_model": {
          "name": "generated_by_model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "generation_prompt": {
          "name": "generation_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "next_review_date": {
          "name": "next_review_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "current_interval": {
          "name": "current_interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "easiness_factor": {
          "name": "easiness_factor",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'2.50'"
        },
        "review_count": {
          "name": "review_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "consecutive_correct": {
          "name": "consecutive_correct",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "questions_note_id_fkey": {
          "name": "questions_note_id_fkey",
          "tableFrom": "questions",
          "tableTo": "notes",
          "schemaTo": "public",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "valid_easiness_factor": {
          "name": "valid_easiness_factor",
          "value": "easiness_factor >= 1.30"
        },
        "valid_status": {
          "name": "valid_status",
          "value": "(status)::text = ANY ((ARRAY['active'::character varying, 'suspended'::character varying, 'archived'::character varying])::text[])"
        },
        "valid_question_type": {
          "name": "valid_question_type",
          "value": "(question_type)::text = ANY ((ARRAY['recall'::character varying, 'multiple_choice'::character varying, 'fill_blank'::character varying, 'true_false'::character varying, 'application'::character varying, 'conceptual'::character varying])::text[])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "public.reviews": {
      "name": "reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "question_id": {
          "name": "question_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "note_id": {
          "name": "note_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "user_response": {
          "name": "user_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correct": {
          "name": "correct",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "previous_interval": {
          "name": "previous_interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "new_interval": {
          "name": "new_interval",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "previous_easiness_factor": {
          "name": "previous_easiness_factor",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "new_easiness_factor": {
          "name": "new_easiness_factor",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reviews_question_id_fkey": {
          "name": "reviews_question_id_fkey",
          "tableFrom": "reviews",
          "tableTo": "questions",
          "schemaTo": "public",
          "columnsFrom": [
            "question_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reviews_note_id_fkey": {
          "name": "reviews_note_id_fkey",
          "tableFrom": "reviews",
          "tableTo": "notes",
          "schemaTo": "public",
          "columnsFrom": [
            "note_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "notes": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "character varying(255)"
          }
        }
      }
    }
  }
}